
 {% extends 'SiteAdminBundle::layout.html.twig' %}


 {% block content %}
{{ parent() }}

<h1>Medias list</h1>

{% include 'SiteAdminBundle:Slot:filter.html.twig' %}


{# display navigation #}
<div class="navigation">
    {{ pagination.render()|raw }}
</div>
<table class="table table-striped">
    <thead>
        <tr>
            <th>{{ pagination.sortable('Id', 'a.id')|raw }}</th>
            <th{% if pagination.isSorted('a.Legend') %} class="sorted"{% endif %}>{{ pagination.sortable('Legend', 'a.legend')|raw }}</th>
            <th>Picture</th>
            <th>State</th>
            <th>Datecreated</th>
            <th>Dateupdated</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
            {% for entity in pagination %}
            <tr>
                <td><a href="{{ path('medias_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                <td>{{ entity.legend|capitalize }}</td>
                   <td> {% set img_path =  'uploads/administrateurs/'~user.id~'/'~entity.picture %}
                    {% if entity.picture and  img_path|file_exist %}
                           <a href="/uploads/administrateurs/{{user.id}}/{{entity.picture}}" class="fancybox">
                           <img src="/uploads/administrateurs/{{user.id}}/{{entity.picture}}"  width="300" height="200" class="img-polaroid">
                    {% endif %}</a></td>
                <td>{{ entity.state|validate|raw }}</td>
                <td>{% if entity.dateCreated %}{{ entity.dateCreated|date('Y-m-d')|localizeddate('short', 'none') }}{% endif %}</td>
                <td>{% if entity.dateUpdated%}{{ entity.dateUpdated|date('Y-m-d')|localizeddate('full', 'none') }}{% endif %}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('medias_show', { 'id': entity.id }) }}"><i class="icon-search"></i>show</a>
                        </li>
                        <li>
                            <a href="{{ path('medias_edit', { 'id': entity.id }) }}"><i class="icon-edit"></i> edit</a>
                        </li>
                    </ul>
                </td>
            </tr>
              {% endfor %}
    </tbody>
        <thead>
        <tr>
            <th>{{ pagination.sortable('Id', 'a.id')|raw }}</th>
            <th{% if pagination.isSorted('a.Legend') %} class="sorted"{% endif %}>{{ pagination.sortable('Legend', 'a.legend')|raw }}</th>
            <th>Picture</th>
            <th>State</th>
            <th>Datecreated</th>
            <th>Dateupdated</th>
            <th>Actions</th>
        </tr>
    </thead>
</table>

<div class="navigation">
    {{ pagination.render()|raw }}
</div>

<ul>
    <li>
        <a href="{{ path('medias_new') }}">
           <i class="icon-pencil"></i> Create a new entry
        </a>
    </li>
</ul>
 {% endblock %}